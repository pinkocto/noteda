{
  "hash": "7fa208cce6129351e1f7d1bf709e6064",
  "result": {
    "markdown": "---\ntitle: \"[R]데이터 재구조화\"\nauthor: \"jiyun Lim\"\ndate: \"03/30/2023\"\ncategories:\n  - Research\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(data.table)\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfile_path <- './data/'\nlist.files(file_path)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"df_arima.csv\"                \"df_new.csv\"                 \n [3] \"df_yU.csv\"                   \"OBS_ASOS_TIM_data0.csv\"     \n [5] \"OBS_ASOS_TIM_data1.csv\"      \"prep_data.csv\"              \n [7] \"prep_test.csv\"               \"raw.csv\"                    \n [9] \"restructuring_prep_data.csv\" \"restructuring_raw.csv\"      \n[11] \"solar_radiation.csv\"         \"solar_radiation2.csv\"       \n[13] \"solar.json\"                  \"solar2.json\"                \n[15] \"test_raw.csv\"                \"weight.csv\"                 \n[17] \"yU_weight.csv\"              \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_raw <- fread(file.path(file_path, 'raw.csv'))\nhead(df_raw)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   지점 지점명             일시 일사(MJ/m2)\n1:   93 북춘천 2021-01-01 08:00        0.00\n2:   93 북춘천 2021-01-01 09:00        0.37\n3:   93 북춘천 2021-01-01 10:00        0.96\n4:   93 북춘천 2021-01-01 11:00        1.40\n5:   93 북춘천 2021-01-01 12:00        1.72\n6:   93 북춘천 2021-01-01 13:00        1.84\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_raw <- df_raw %>% dcast(일시 + '일사(MJ/m2)' ~ 지점명)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nUsing '일사(MJ/m2)' as value column. Use 'value.var' to override\n```\n:::\n\n```{.r .cell-code}\ndf_raw %>% head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               일시 강릉 강진군 경주시 고산 고창 고창군 광양시 광주 김해시\n1: 2021-01-01 08:00 0.01   0.01   0.02 0.00 0.01   0.01   0.01 0.06   0.01\n2: 2021-01-01 09:00 0.37   0.17   0.45 0.05 0.14   0.22   0.25 0.19   0.41\n3: 2021-01-01 10:00 0.97   0.78   0.92 0.15 0.58   0.36   0.86 0.33   1.07\n4: 2021-01-01 11:00 1.48   1.75   1.14 0.15 0.61   0.30   1.31 0.66   1.49\n5: 2021-01-01 12:00 1.76   1.40   1.40 0.28 1.37   0.73   1.52 1.73   1.64\n6: 2021-01-01 13:00 1.92   1.16   1.38 0.17 1.31   1.26   1.13 1.75   1.98\n   대관령 대구 대전 동두천 목포 백령도 보성군 부산 북강릉 북창원 북춘천 상주\n1:   0.00 0.03 0.01     NA 0.01   0.00   0.02 0.03   0.01   0.01   0.00   NA\n2:   0.29 0.45 0.53     NA 0.30   0.13   0.35 0.47   0.35   0.27   0.37   NA\n3:   1.02 1.03 0.80     NA 1.01   0.65   0.88 1.10   0.92   0.92   0.96   NA\n4:   1.61 1.51 0.81     NA 0.96   1.04   1.38 1.62   1.39   1.22   1.40   NA\n5:   1.96 1.75 0.57     NA 1.01   1.71   1.63 1.94   1.71   1.86   1.72   NA\n6:   2.06 1.74 0.62     NA 1.01   1.87   1.31 2.11   1.82   1.99   1.84   NA\n   서산 서울 수원 순창군 안동 양산시 여수 영광군 울릉도 원주 의령군 인천 전주\n1: 0.00 0.00 0.00   0.00 0.01   0.01 0.00   0.00   0.00 0.00   0.03 0.00 0.01\n2: 0.06 0.27 0.18   0.24 0.40   0.27 0.30   0.23   0.24 0.35   0.51 0.15 0.51\n3: 0.18 0.76 0.60   0.45 0.99   1.07 0.97   0.34   0.68 1.15   1.37 0.65 1.19\n4: 0.31 1.40 1.22   0.76 0.96   1.60 1.34   1.00   0.51 1.59   1.69 1.20 1.13\n5: 0.46 1.74 1.69   0.65 1.85   1.91 1.40   1.35   0.47 2.02   2.04 1.48 1.19\n6: 0.36 1.61 1.78   1.70 1.99   2.02 1.98   1.65   0.89 1.91   1.64 1.70 1.28\n   제주 제천 진주 창원 철원 청송군 청주 추풍령 춘천 충주 파주 포항 함양군 홍성\n1: 0.00   NA 0.01 0.00 0.00   0.02 0.00   0.00 0.00   NA   NA 0.02   0.00 0.00\n2: 0.14   NA 0.54 0.29 0.11   0.46 0.27   0.27 0.31   NA   NA 0.38   0.25 0.07\n3: 0.27   NA 1.25 0.87 0.74   1.05 0.85   0.56 0.96   NA   NA 1.03   1.05 0.26\n4: 0.47   NA 1.59 1.41 1.37   1.26 0.75   0.69 1.46   NA   NA 1.53   1.65 0.43\n5: 0.26   NA 1.89 1.73 1.74   1.92 0.96   0.63 1.68   NA   NA 1.81   1.52 0.49\n6: 0.34   NA 1.80 1.83 1.98   1.85 0.87   1.26 1.78   NA   NA 1.86   1.13 0.52\n   흑산도\n1:   0.02\n2:   0.15\n3:   0.61\n4:   0.56\n5:   0.57\n6:   0.48\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite.csv(df_raw, './data/restructuring_raw.csv', row.names = FALSE)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}