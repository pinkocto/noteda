{
  "hash": "84b50042ab1a2fb6fe226b9df2b81130",
  "result": {
    "markdown": "---\ntitle: 05. 회귀진단\nauthor: JiyunLim\ndate: \"05/03/2023\"\n---\n\n\n# 회귀진단\n\n회귀진단은 분석을 했을 때 분석의 마지막 단계이면서, 결과가 이상하다면 다른 모델을 적합해야하는 시작이 될 수도 있다.\n\n-   오차항의 가정검토 (잔차분석)\n-   적절한 모형의 선택 (변수선택)\n-   독립변수들간의 상관관계 검토 (다중공선성)\n-   지룃대점(leverage point)의 검출\n-   이상치(outlier) 확인\n-   영향점(influential observation)의 검출\n\n::: {.callout-note icon=\"false\"}\n-   정규성 (사실 정규성은 큰 문제가 되지는 않는다.)\n\n-   선형성 문제 $\\to$ 변수변환\n\n-   등분산 문제 $\\to$ 일반화 선형모형\n:::\n\n## Leverage vs. Outlier vs. Influence\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lmtest)\n```\n:::\n\n\n1,2,3번 모두 기본 데이터(10개)는 동일하지만 11번째 데이터만 다른 케이스이다.\n\n![](leverage_outlier_influence.png){fig-align=\"center\"}\n\n-   `leverage point` : (설명변수) 다른애들보다 멀리 떨어져 있는애들\n\n-   `Outlier` : $x$ 에 대해서는 문제가 없는데 다른애들에 비해 회귀직선으로부터 멀리 떨어져있는 애들. 즉, 잔차(\\$y-\\\\hat{y}\\$)가 큰 것. (회귀직선과 $y$ 를 본다.)\n\n-   `Influence` : 회귀선에 영향을 주는 애들.\n\n![](leverage_outlier_influence2.png)\n\n-   Fig3: Leverage일수도 영향점일 수도있는데 10개의 데이터로 피팅한 파란색 회귀직선에 비해 11개로 피팅한 회귀직선의 기울기가 더 누워져(flat) 있는 것을 볼 수 있다. 11번째 데이터가 있고없음에 따라 기울기가 많이 바뀜.회귀모형이 달라짐. (기울기와 절편에 영향을 준 것.) 그래서 특별히 \"영향점\" 이라고 한다.\n\n-   Fig1: 파란색 실선이 살짝 올라갔지만 큰 차이는 없어 보인다. 따라서 11번째 데이터는 이상치 이긴 하지만, 영향점이 아니다.\n\n-   Fig2: 11번째 데이터가 있고 없음에 상관없이 두 직선이 거의 일치한다. (즉, 기울기 절편이 거의 변하지 않았다. $\\to$ \"레버리지\"는 맞지만 \"영향점\"이 아니다. (\"이상치\"도 아님)\n\n::: callout-warning\n-   Leverage 이면 영향점이다. (X)\n\n-   Outlier 이면 영향점이다. (X)\n\n-   Leverage 이면 이상점이다. (X)\n\n-   이상점은 Leverage 이다. (X)\n\n-   **레버리지 포인트나 이상치이면 영향점일 가능성이 높다.**\n:::\n\n이상치인경우에 데이터를 제거하고 싶겠지만 막 빼면 안된다. 내가 갖고있는 데이터는 다 의미가 있는 것이다. 따라서 면밀한 검토가 필요하다. \\-\\-- 오타인지? 측정이 잘못되었는지? 의미가 있는지?) ---- 데이터가 정말 이상한지 살펴보고 빼자. (대충 summary보고 결정하지 말자는 뜻.)\\\n\n사실 leverage point가 있다면 빈공간의 정보를 더 수집하는게 이상적인 답이지만 거의 불가능한 일이다. (회사라면 이러겠지만 지금 우리는 그럴 수 없다. 뺄 수밖에 없다. 주어진 데이터이기 때문.)\n\n일단 영향점인지 아닌지 확인해 보고 싶으면 일단 제거하고 돌려본 후 비교해보는게 맞다. 이상치든 레버리지 포인트이든! 그러나 제거한 결과 $R^2$ 가 커졌다거나 $MSE$ 가 작아졌다는 이유로 얘네를 그냥 제거하는건 안된다.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}