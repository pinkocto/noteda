{
  "hash": "9350a1f085b39fa4cb3da0360891c875",
  "result": {
    "markdown": "---\ntitle: \"Correlation coefficient by region\"\nauthor: \"jiyun Lim\"\ndate: \"03/30/2023\"\ncategories:\n  - Research\n---\n\n\n### 연습\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(data.table)\nlibrary(tidyverse)\nlibrary(recipes)\nlibrary(corrplot)\nlibrary(GGally)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfile_path <- './data/'\nlist.files(file_path)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"OBS_ASOS_TIM_data0.csv\" \"OBS_ASOS_TIM_data1.csv\" \"prep_data.csv\"         \n[4] \"prep_test.csv\"          \"raw.csv\"                \"test_raw.csv\"          \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1 <- fread(file.path(file_path, 'prep_data.csv'))\nhead(df1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   지점 지점명                일시 일사(MJ/m2)   Datetime hour\n1:   93 북춘천 2021-01-01 08:00:00        0.00 2021-01-01    8\n2:   93 북춘천 2021-01-01 09:00:00        0.37 2021-01-01    9\n3:   93 북춘천 2021-01-01 10:00:00        0.96 2021-01-01   10\n4:   93 북춘천 2021-01-01 11:00:00        1.40 2021-01-01   11\n5:   93 북춘천 2021-01-01 12:00:00        1.72 2021-01-01   12\n6:   93 북춘천 2021-01-01 13:00:00        1.84 2021-01-01   13\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(df1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 352,279\nColumns: 6\n$ 지점          <int> 93, 93, 93, 93, 93, 93, 93, 93, 93, 93, 93, 93, 93, 93, …\n$ 지점명        <chr> \"북춘천\", \"북춘천\", \"북춘천\", \"북춘천\", \"북춘천\", \"북춘…\n$ 일시          <dttm> 2021-01-01 08:00:00, 2021-01-01 09:00:00, 2021-01-01 10…\n$ `일사(MJ/m2)` <dbl> 0.00, 0.37, 0.96, 1.40, 1.72, 1.84, 1.74, 1.30, 0.93, 0.…\n$ Datetime      <IDate> 2021-01-01, 2021-01-01, 2021-01-01, 2021-01-01, 2021-0…\n$ hour          <int> 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 8, 9, 10, 11, …\n```\n:::\n:::\n\n\n## 지역별 일사량 correlation\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1 <- subset(df1, select = -c(Datetime,hour))\ndf1 %>% head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   지점 지점명                일시 일사(MJ/m2)\n1:   93 북춘천 2021-01-01 08:00:00        0.00\n2:   93 북춘천 2021-01-01 09:00:00        0.37\n3:   93 북춘천 2021-01-01 10:00:00        0.96\n4:   93 북춘천 2021-01-01 11:00:00        1.40\n5:   93 북춘천 2021-01-01 12:00:00        1.72\n6:   93 북춘천 2021-01-01 13:00:00        1.84\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1 <- df1 %>% dcast(일시 + '일사(MJ/m2)' ~ 지점명)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nUsing '일사(MJ/m2)' as value column. Use 'value.var' to override\n```\n:::\n\n```{.r .cell-code}\ndf1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                     일시 강릉 강진군 경주시 고산 고창 고창군 광양시 광주\n   1: 2021-01-01 08:00:00 0.01   0.01   0.02 0.00 0.01   0.01   0.01 0.06\n   2: 2021-01-01 09:00:00 0.37   0.17   0.45 0.05 0.14   0.22   0.25 0.19\n   3: 2021-01-01 10:00:00 0.97   0.78   0.92 0.15 0.58   0.36   0.86 0.33\n   4: 2021-01-01 11:00:00 1.48   1.75   1.14 0.15 0.61   0.30   1.31 0.66\n   5: 2021-01-01 12:00:00 1.76   1.40   1.40 0.28 1.37   0.73   1.52 1.73\n  ---                                                                    \n8026: 2022-12-31 14:00:00 1.62   2.06   1.82 1.96 1.72   1.28   1.96 1.63\n8027: 2022-12-31 15:00:00 1.30   1.67   1.52 1.58 1.60   1.38   1.62 1.88\n8028: 2022-12-31 16:00:00 0.81   1.16   0.96 1.10 1.15   1.17   1.11 1.14\n8029: 2022-12-31 17:00:00 0.24   0.36   0.35 0.49 0.50   0.48   0.45 0.49\n8030: 2022-12-31 18:00:00 0.01   0.03   0.01 0.05 0.04   0.04   0.03 0.09\n      김해시 대관령 대구 대전 목포 백령도 보성군 부산 북강릉 북창원 북춘천 서산\n   1:   0.01   0.00 0.03 0.01 0.01   0.00   0.02 0.03   0.01   0.01   0.00 0.00\n   2:   0.41   0.29 0.45 0.53 0.30   0.13   0.35 0.47   0.35   0.27   0.37 0.06\n   3:   1.07   1.02 1.03 0.80 1.01   0.65   0.88 1.10   0.92   0.92   0.96 0.18\n   4:   1.49   1.61 1.51 0.81 0.96   1.04   1.38 1.62   1.39   1.22   1.40 0.31\n   5:   1.64   1.96 1.75 0.57 1.01   1.71   1.63 1.94   1.71   1.86   1.72 0.46\n  ---                                                                          \n8026:   1.87   1.64 1.48 0.85 1.82   1.80   1.99 1.97   1.80   1.84   1.45 1.48\n8027:   1.50   1.34 1.44 1.14 1.65   1.19   1.67 1.63   1.46   1.49   0.78 1.39\n8028:   1.00   0.85 1.07 0.55 1.15   0.73   1.15 1.10   0.92   0.97   0.38 0.89\n8029:   0.36   0.23 0.39 0.24 0.54   0.35   0.46 0.43   0.29   0.28   0.15 0.38\n8030:   0.01   0.00 0.01 0.02 0.05   0.04   0.03 0.02   0.00   0.02   0.00 0.02\n      서울 수원 순창군 안동 양산시 여수 영광군 울릉도 원주 의령군 인천 전주\n   1: 0.00 0.00   0.00 0.01   0.01 0.00   0.00   0.00 0.00   0.03 0.00 0.01\n   2: 0.27 0.18   0.24 0.40   0.27 0.30   0.23   0.24 0.35   0.51 0.15 0.51\n   3: 0.76 0.60   0.45 0.99   1.07 0.97   0.34   0.68 1.15   1.37 0.65 1.19\n   4: 1.40 1.22   0.76 0.96   1.60 1.34   1.00   0.51 1.59   1.69 1.20 1.13\n   5: 1.74 1.69   0.65 1.85   1.91 1.40   1.35   0.47 2.02   2.04 1.48 1.19\n  ---                                                                      \n8026: 0.68 0.87   1.59 1.95   1.83 1.96   1.91   1.82 1.16   1.93 0.59 1.79\n8027: 0.57 0.52   1.62 1.35   1.48 1.60   1.55   1.30 0.48   1.61 0.87 1.55\n8028: 0.48 0.67   1.02 0.69   0.94 1.08   1.10   0.55 0.34   1.03 0.95 1.05\n8029: 0.35 0.35   0.35 0.37   0.31 0.47   0.43   0.23 0.08   0.32 0.37 0.42\n8030: 0.02 0.00   0.03 0.00   0.02 0.04   0.01   0.00 0.00   0.01 0.02 0.04\n      제주 진주 창원 철원 청송군 청주 추풍령 춘천 포항 함양군 홍성 흑산도\n   1: 0.00 0.01 0.00 0.00   0.02 0.00   0.00 0.00 0.02   0.00 0.00   0.02\n   2: 0.14 0.54 0.29 0.11   0.46 0.27   0.27 0.31 0.38   0.25 0.07   0.15\n   3: 0.27 1.25 0.87 0.74   1.05 0.85   0.56 0.96 1.03   1.05 0.26   0.61\n   4: 0.47 1.59 1.41 1.37   1.26 0.75   0.69 1.46 1.53   1.65 0.43   0.56\n   5: 0.26 1.89 1.73 1.74   1.92 0.96   0.63 1.68 1.81   1.52 0.49   0.57\n  ---                                                                    \n8026: 1.57 1.98 1.69 0.47   1.81 1.28   0.86 0.77 1.77   1.31 1.27   1.94\n8027: 1.51 1.63 1.36 0.62   1.48 0.63   1.15 0.43 1.41   1.53 0.59   1.60\n8028: 0.96 1.08 0.88 0.44   0.96 0.54   0.62 0.26 0.91   1.01 0.86   1.19\n8029: 0.43 0.38 0.26 0.19   0.16 0.29   0.29 0.07 0.33   0.40 0.34   0.46\n8030: 0.01 0.01 0.00 0.00   0.01 0.00   0.00 0.00 0.00   0.02 0.01   0.06\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnum_vars <- df1 %>% select(-일시)\nweight <- cor(num_vars, use = 'pairwise.complete.obs')\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrplot(round(weight,2), method = 'number')\n```\n\n::: {.cell-output-display}\n![](2023-03-30-correlation_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "2023-03-30-correlation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}